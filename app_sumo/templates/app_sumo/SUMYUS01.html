{% extends 'app_sumo/base.html' %}
{% block content %}
    <h1 class="caption">優勝・三賞入力画面</h1>
    <div class="container-fluid row gyomu-menu caption_box">
        <div class="col-8">
            <form method="POST">
                {% csrf_token %}
                <div class="row">
                    <div class="col-9 gyomu-menu caption_box">
                        <table id="tbl_SUMYUS01" class="table table-hover table-sm">
                            <thead class="thead-dark">
                            <tr id="tbl_SUMYUS01_header">
                                <th/> <!-- [0]東西コード -->
                                <th/> <!-- [1]東西 -->
                                <th/> <!-- [2]階級コード -->
                                <th/> <!-- [3]階級 -->
                                <th/> <!-- [4]番付順位 -->
                                <th/> <!-- [5]力士名 -->
                                <th/> <!-- [6] -->
                            </tr>
                            </thead>
                            <tbody>
                            {% for rikishi in rikishis %}
                                <tr id="{{ rikishi.Rikishi }}">
                                    <td>{{ rikishi.Eastwest_code_id }}</td>
                                    <td>{{ rikishi.Eastwest_code }}</td>
                                    <td>{{ rikishi.Class_code_id }}</td>
                                    <td>{{ rikishi.Class_code }}</td>
                                    <td>{{ rikishi.Banzuke_rank }}</td>
                                    <td>{{ rikishi.Rikishi }}</td>
                                    <td class="selectedRikishi"><input type="radio" name="rikishi_id"
                                                                       id="{{ rikishi.Rikishi }}"
                                                                       value="{{ rikishi.Rikishi_id }}">
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <div class="col-3 button-area">
                        <br/>
                        <br/>
                        <br/>
                        <button type="submit" formaction="{% url 'app_sumo:SUMYUS01_create2' 'Yusho' %}"
                                class="btn btn-primary">▷ 優　勝
                        </button>
                        <br/>
                        <br/>
                        <button type="submit" formaction="{% url 'app_sumo:SUMYUS01_create2' 'Shukunsho' %}"
                                class="btn btn-primary">▷ 殊勲賞
                        </button>
                        <br/>
                        <br/>
                        <button type="submit" formaction="{% url 'app_sumo:SUMYUS01_create2' 'Kantosho' %}"
                                class="btn btn-primary">▷ 敢闘賞
                        </button>
                        <br/>
                        <br/>
                        <button type="submit" formaction="{% url 'app_sumo:SUMYUS01_create2' 'Ginosho' %}"
                                class="btn btn-primary">▷ 技能賞
                        </button>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-4 gyomu-menu caption_box">
            <table class="table table-hover table-sm">
                <thead class="thead-dark">
                <tr>
                    <th>優勝</th>
                </tr>
                </thead>
                <tbody>
                {% for i_class in classes %}
                    <tr>
                        <td>【{{ i_class.Class_name_3char }}】</td>
                        <td>
                            {% for j in posts %}
                                {% if j.Class_code_id == i_class.Class_code and j.Yusho_flg %}
                                    <a href="{% url 'app_sumo:SUMYUS01_update' j.pk %}">{{ j.Rikishi }}</a>
                                {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            <table class="table table-hover table-sm">
                <thead class="thead-dark">
                <tr>
                    <th>三賞</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>【殊勲賞】</td>
                    <td>
                        {% for j in posts %}
                            {% if j.Shukunsho_flg %}
                                <a href="{% url 'app_sumo:SUMYUS01_update' j.pk %}">{{ j.Rikishi }}</a><br>
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>【敢闘賞】</td>
                    <td>
                        {% for j in posts %}
                            {% if j.Kantosho_flg %}
                                <a href="{% url 'app_sumo:SUMYUS01_update' j.pk %}">{{ j.Rikishi }}</a><br>
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>【技能賞】</td>
                    <td>
                        {% for j in posts %}
                            {% if j.Ginosho_flg %}
                                <a href="{% url 'app_sumo:SUMYUS01_update' j.pk %}">{{ j.Rikishi }}</a><br>
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <nav class="navbar fixed-bottom navbar-dark bg-dark">
            <a href="{% url 'app_sumo:SUMYUS01_create' %}" class="btn btn-success">追加</a>
            <a href="{% url 'app_sumo:index' %}" class="btn btn-warning" role="button">戻る</a>
        </nav>
        <p>※開催年月と日目が一致するデータのみ表示している<br/>
            ※画面左は番付テーブルを使用。「横綱」「大関」などの地位を取得する項目がない？<br/>
            ※千秋楽以前に優勝が確定した場合は、以降の各日にも優勝をセットする処理は必要？
        </p>
{% endblock %}